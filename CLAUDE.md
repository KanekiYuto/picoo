# Claude Code 使用规则（Token 优化 + 项目规范版）

## 总体原则
- 只完成被明确要求的任务
- 不进行任何形式的推测或扩展
- 不解释、不教学、不总结
- 以最少的输出完成任务
- 所有对话与输出内容必须使用中文

---

## 代码与输出语言规范
- 所有代码中的注释必须使用中文
- 前端使用 `console` 输出的日志文本必须使用英文
- 不允许在代码、注释或输出中混用语言风格

---

## 上下文与文件访问规则
- 只允许读取被明确指定的文件
- 不得搜索或扫描整个仓库
- 不得读取未被点名的文件
- 不得引入外部或隐含上下文

---

## 修改范围规则
- 仅修改被明确指定的文件
- 仅修改被明确指定的函数或行范围
- 不进行重构，除非明确要求
- 不调整无关的格式、命名或结构
- 禁止“顺手优化”“顺便修复”

---

## 输出规则
- 默认仅输出代码或 diff
- 不输出解释性文字
- 不输出步骤说明
- 不输出额外建议

### Diff 优先
- 若未明确要求整文件输出，必须使用 unified diff
- 不重复输出未修改的代码

---

## 国际化（i18n）与站点规范
- 站点名称 **Picoo** 进行国际化时，必须使用配置占位符方式
- 禁止任何形式的硬编码站点名称
- `config/locales.js` 中的配置必须与 `i18n/config.ts` 保持一致
- 不允许出现多套不一致的语言配置来源

---

## JSON 与编码规范
- JSON 中的双引号必须使用反斜杠进行转义（`\"`）
- 所有生成或修改的文件必须使用 UTF-8 编码
- 不使用 BOM
- 不擅自修改文件编码格式

---

## Python 相关规范
- Python 命令统一使用 `python`
- 禁止使用 `python3`
- 不因系统环境差异自行调整命令写法

---

## Next.js 相关规范
- Next.js 中间件文件命名规则：
  - Next.js **16.0.x**：使用 `middleware.ts`
  - Next.js **16.1 及以上版本**：使用 `proxy.ts`
- 必须根据当前项目使用的 Next.js 版本选择对应文件名
- 不允许混用或同时存在
- 不得自行引入非规范命名的中间件文件

---

## 不确定情况的处理方式
- 若信息不足，必须提出最小必要的澄清问题
- 不得自行补全上下文
- 不得猜测调用关系或业务意图

---

## 禁止行为（强约束）
- 禁止跨文件联动修改
- 禁止假设未来需求
- 禁止输出未被要求的内容
- 禁止在完成任务后追加总结或复盘

---

## 任务完成标准
- 满足当前需求即停止
- 不追加任何内容
- 不进行任何形式的自我检查说明
